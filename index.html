<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>web 2</title>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script src="https://cdn.rawgit.com/nnattawat/flip/master/dist/jquery.flip.min.js"></script>
  <script>

	  	function wait(ms){
			var d = new Date();
			var d2 = null;
			do { d2 = new Date(); }
			while(d2-d < ms);
		}
        var imgPosiCont = [0,0,0,0,0,0,0,0,0,0,0,0];
         var c=[];
        function faz(){
                var imgUsadas = [0,0,0,0,0,0,0,0,0]
                var l =[];
                sub_s_aux = ""
                for (var i = 0; i < 6; i++) {
                    sub_s_aux +="<div class=\"back\"><img src=\"img/";
                    var x;
                    do{
                      x = parseInt(Math.random()*8)
                    }while(imgUsadas[x]!=0);
                  
                    imgUsadas[x]=1;
                    sub_s_aux+= x+".jpg\" class=\"card-img-top\" style=\"width:100%;height:100%;\"> </div>"
                    l.push(sub_s_aux);
                    sub_s_aux = "";
                }

                var imgUsadas2 = [0,0,0,0,0,0];
                var imgPosi = [0,0,0,0,0,0,0,0,0,0,0,0];

                var i =0;
                while(i <12) {
                    var x;
                    do{
                        x = parseInt(Math.random()*6);
                        if (imgUsadas2[x]<=1 && imgPosi[i]==0) {
                          imgUsadas2[x]++, imgPosi[i] = "l"+x,imgPosiCont[i]=l[x];
                          i++;
                        }
                    }while(imgPosi[i]==0 && i<12);
                                 
                }
               
                ///parei aqui
                var s = "";
                var contPos=0;
                for (var j =0;j<3 ; j++) {
                  s+="<div class=\"row\">";
                  for (var i = 0; i < 4; i++) {
                  	//alert(imgPosi[contPos]+contPos);
                    s+="<div class=\"col-sm\"><div id=\""+imgPosi[contPos]+contPos +"\" class=\"card\" ><div class=\"front\"><img src=\"card4.png\" class=\"card-img\" id=\""+imgPosi[contPos]+contPos +"\"  style=\"width:100%;height:100%;\"></div> ";
                    s+=imgPosiCont[contPos];
                    contPos++;
                    s+="</div></div>";
                  }
                  s+="</div>";
                } 
                //alert(s);
                document.getElementById('corpo').innerHTML = s;
                $(".card").flip();                 
                  //Função do clique na classe da imagem
                $(document).ready(function(){
                $('.card-img').on('click', function(){
                        //mouse event fired (element clicked)
                        //alert("Clicou na imagem!");
                        
                        //$("#"+$(this).attr('id')).flip(false);

                        c.push($(this).attr('id'));
                        //alert(c.length);
                        
                        $(function() {
                        	
                            if(c.length>1){
                              //alert("check");
                              //alert(c[0].substrg(0,2));

                              if(c[0].substring(0,2)==c[1].substring(0,2)){
                                wait(1000);
                                //alert("Encontrou");
                                        
                                c = [];

                              }else if(c.length>1){
                                //alert("check");
                                //alert("#"+c[0]);
                                //alert("#"+c[1]);
                                wait(1000);

                                $("#"+c[0]).flip(false);
                                $("#"+c[1]).flip(false);
                                c = [];
                              }
                            }  

                             });
                      });

                        
                  
                });



        }

           
  </script>



  

  <style type="text/css">
      body {
        background-image: url(card2.png);
        background-repeat: no-repeat;
        background-attachment: fixed;
        /* e agora a regra de ouro que fará a imagem ocupar todo o viewport */
        background-size: 100% 100%;
    }

      .card{
      background-color: transparent;
      width: 150px;
      height: 150px;
      margin-top: 1%;
    }
    
    #canalImg{
    	margin-left: 93%;
    	

    }
   
      
  </style> 
    
</head>
<body background="card2.png">
	
	

	<audio autoplay="autoplay" controls="controls" id="audioS">
	    <source src="audio2.mp3"/>
	</audio>

	<center>
	  	<button onclick="faz()" type="button" class="btn btn-primary btn-lg" >Iniciar</button>
	</center>

	<div class="container" id="corpo">
	</div><br><br>
	 
 

	<a href="https://www.youtube.com/channel/UC3zlt0YbgWNlNTnWNVbKYcg" >
		<img border="0" alt="Os Cearenses - Fundação Demócrito Rocha" src="canal.jpg" width="70" height="70" id="canalImg">
	</a>

</body>
</html>